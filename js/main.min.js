var animating=!1,submitPhase1=900,submitPhase2=400,logoutPhase1=800,$login=document.querySelector(".login"),$loginSubmit=document.querySelector(".login-submit"),loggedIn=!1,intervalStatus=!1;
function onLoginSubmitted(){var a=document.getElementById("error");if(1>document.login.username.value.length)a.innerText=" يجب ادخال قيمة صحيحة !!!";else return a.innerText="",$loginSubmit.classList.add("processing"),userLogin(),!1}function onLogoutSubmitted(a,b){var c=a.hasAttribute("erase-cookie");userLogout(c)}
function showParentElement(a,b){a.classList.add("success");setTimeout(function(){b.style.display="block";getComputedStyle(b).top;b.classList.add("active")},submitPhase2-70);setTimeout(function(){hideLoginPage();animating=!1;a.classList.remove("success","processing")},submitPhase2)}function hideLoginPage(){$login.style.display="none";$login.classList.add("inactive")}function showLoginPage(){$login.style.display="block";getComputedStyle($login).top;$login.classList.remove("inactive")}
function initHotspotEvents(a,b){var c=b.querySelector(".app-logout");a.addEventListener("click",function(d){if(!animating){animating=!0;var e=this;"status"===b.id?onLoginSubmitted():(e.classList.add("processing"),setTimeout(function(){showParentElement(e,b)},submitPhase1))}});c.addEventListener("click",function(d){if(!animating){animating=!0;var e=this;"status"===b.id&&onLogoutSubmitted(e,b);e.classList.add("clicked");setTimeout(function(){b.classList.remove("active");showLoginPage()},logoutPhase1-
    120);setTimeout(function(){b.style.display="none";animating=!1;e.classList.remove("clicked")},logoutPhase1)}})}
function toArabicTime(a){var b=a,c="",d="",e="",f="";if(""===a)return"";0<=a.indexOf("d")&&(b=a.split("d"),c=""!==b[0]?b[0]+" يوم ":"",b=b[1]);0<=a.indexOf("h")&&(b=b.split("h"),d=""!==b[0]?b[0]+" ساعة ":"",b=b[1]);0<=a.indexOf("m")&&(b=b.split("m"),e=""!==b[0]?b[0]+" دقيقة ":"",b=b[1]);0<=a.indexOf("s")&&(a=b.split("s"),f=""!==a[0]?a[0]+" ثانية ":"");return c+d+e+f}
function toArabicBytes(a){return 1024>a?a+" بايت ":1048576>a?Math.round(a/1024)+" كيلوبايت ":1073741824>a?Math.round(a/1048576)+" ميجابايت ":Math.round(a/1073741824)+" جيجابايت "}
function hideHalfCard(a){a=a.toLowerCase();if(0<=a.indexOf("T-"))return"تجربة مجانية";if(0<=a.indexOf(":"))return"اشتراك";var b=Math.ceil(a.length/2);a=a.substring(0,b);return a+"*".repeat(b)}
function toArabicError(a){var b={"user&not found":"لقد ادخلت الكرت بطريقة غير صحيحة، الرجاء المحاولة مرة اخرى","simultaneous session limit reached|no more sessions are allowed":"المعذرة ، هذا الكرت مستخدم حالياً في جهاز آخر",
    "invalid password":"تاكد من كتابة كلمة المرور بشكل صحيح","uptime limit reached|No more online time|uptime limit":"عذراً لقد انتهى الوقت المتاح لك","traffic limit|transfer limit reached":"لقد انتهى رصيد هذا الحساب",
    "invalid username or password|not found":"لقد ادخلت اسم المستخدم بطريقة غير صحيحة، الرجاء المحاولة مرة اخرى","no valid profile found":"لقد انتهت صلاحية هذا الكرت",
    "invalid Calling-Station-Id":"هذا الحساب مقترن بجهاز آخر!","server&is&not&responding":"يرجى الانتظار، يتم الآن اعادة تشغيل الشبكة، هذه العملية قد تستغرق بعض الوقت",
    "web&browser&did&not&send":"يرجى محاولة ادخال الكرت مرة اخرى"},c="حصل خطأ: "+a,d=function(g){return a.includes(g)},e;for(e in b){var f=b[e];if(e.includes("&")){if(e.split("&").every(d)){c=f;break}}else if(e.includes("|")){if(e.split("|").some(d)){c=f;break}}else if(a.includes(e)){c=f;break}}return c}
function onLoginStart(a){showLoginPage();cookieLogin()}function onLoginError(a){document.login.reset();$loginSubmit.classList.remove("success","processing");animating=!1;document.getElementById("error").innerText=toArabicError(a.error);a=document.querySelector("script[enable-hot-blocker]");if(null!==a){var b=incrementCounter(a);checkFailsCount(a,b)};clearCookies()}function onLoggedIn(a){resetCounter();loggedIn=!0;showParentElement($loginSubmit,document.getElementById("status"));startStatusQuery()}
function onLoggedOut(a){loggedIn=!1}function onStatusQuery(a){if(a.logged_in)for(var b in a){var c=a[b];if("string"==typeof c&&"logged_in"!==b){var d=document.getElementById(b);null!=d&&(""===c?(c=document.querySelector("[".concat(b,"]")),null!=c&&(c.style.display="none")):"username"===b?d.innerText=hideHalfCard(c):b.includes("bytes")?d.innerText=toArabicBytes(c):b.includes("time")?d.innerText=toArabicTime(c):d.innerText=c)}}else loggedIn=!1}
function getRequest(a){var b=new XMLHttpRequest;b.open("GET",a,!0);b.onreadystatechange=function(){if(4===this.readyState)if(200<=this.status&&400>this.status){var c=JSON.parse(this.responseText);window[c.action](c)}else console.log("err")};b.send();b=null}function userLogin(){var a="/login?username=".concat(document.login.username.value,"&password=").concat(document.login.password.value,"&var=callBack");getRequest(a)}
function userLogout(){getRequest(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?"/logout?erase-cookie=yes&var=callBack":"/logout?var=callBack")}function startStatusQuery(){if(!intervalStatus&&loggedIn){intervalStatus=!0;getRequest("/status?var=callBack");var a=setInterval(function(){loggedIn?getRequest("/status?var=callBack"):(intervalStatus=!1,clearInterval(a))},1E3)}}
document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll("button[parent-id]"),b;for(b in a){var c=a[b];if("object"==typeof c){var d=a[b].getAttribute("parent-id");d=document.getElementById(d);if(null==d)return;initHotspotEvents(c,d)}}getRequest("/login?var=callBack");document.forms.login.username.focus()},!1);
